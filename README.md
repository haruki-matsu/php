# 2024/3/2  
以下phpでの指示に対する自分がやったことです。  
・インクルードファイルとして、ヘッダーとフッターをモジュール化してページを構成すること。  
→ヘッダー用とフッター用のphpファイルを別で作成し、各ページのphpファイルに挿入しました  

・送信元メールアドレスにはGmailを使用すること  
→自分のgmailを使用（のため、２段階認証の処理をしました)  

・メール送信機能を付け、メソッドはPOSTメソッドを使用すること。  
→phpmailerを使用しました、POSTメゾット使用  

・メール送信の際にXSS対策をすること。  
→htmlspecialchars関数でエスケープ処理をしました。  

・メール送信の際にメールヘッダインジェクションの対策をすること。  
→filter_var関数でサニタイズ、PHPMailerによる対策  

・送信項目に適切なバリデーションをつけること。  
→メアドの項目に対して以下のバリデーションをつけた  
　　①メアドが適切な型か？  
　　②入力された２つのメアドが一致しているか  

・送信時に送信確認画面と送信完了画面を表示させること。  
→入力画面、送信確認画面、送信完了画面の３つのPHPファイルを作成しました  

・二重ポストできないような仕様にすること。  
→PRGパターンによる対策、処理が終わったら別のページにリダイレクトさせた  

エスケープ処理と、二重ポストがまだ自分の中で自分の中で理解が追い付いていない感じです。  


# 2024/3/3

＜ご指摘いただいた点の修正＞

・HTMLの読み込み言語が英語になっているので日本語にしましょう
→HTMLの読み込み言語をenからjpに修正しました。

・サイト全体の余白がまだきれいに揃ってないので修正してください
→サイト全体の余白を修正しました

・alt属性にはどんな文字を入れるべきかを再度してべ手見ましょう
→alt属性に適切な文字をいれました（画像がなくてもわかるような名前）

・mail_complete.phpとmail_complete2.phpという命名規則は美しくないので、わかりやすいように修正してください
→ファイル名を変更しました

・home.phpはindex.phpとして、なぜこの変更があったかをネットの情報を元に理解しておいてください
→？

・cssファイル内で不要なインデントがあるため、修正しておいてください
→不要なインデントを修正しました。



＜その他修正した点＞

〇ファイル名の変更に関して
メール送信関連のファイル名を以下のように変更いたしました。
・home.php → index.php
・mail.confirm.php → confirm.php
・mail.complete.php → submit.php
・mail.complete.php → thank_you.php
・php-work.css → main.css

それに伴い、各ファイル内の送信先ファイルの名前も変更しました


〇リスポンデザインの追加
リスポンシブデザインに対応できるよう新たにresponsive.cddファイルを作成しました




# 2024/3/4
＜ご指摘いただいた点の修正＞
入力フォーム関連のファイル名について
→ファイル名を変更しました
　confirm.php →　contactForm_confirm.php
　submit.php → contactForm_submit.php
  thank_you.php → contactForm_thank_you.php
　　
表示としては横スクロールが出ているので、横スクロールがないように
→reset.cssのファイルを新たに入れました

ボタンや文字が画面の中央に来ていないので中央ぞろえ
→ボタンの配置設定を変更しました

前回の課題同様、ブラウザのCSSが効いてしまっている部分があるので適切に処理しておいてく
→reset.cssのファイルを新たに入れました

メールの送信プロセスやら動作に関してはしっかりデバッグをして
→メールの送信プロセスをデバッグしました（ページバック時の二重送信以外は問題なく作動しました）

ページバック
→トークンを利用して二重送信を防ごうとしましたが、まだ調整中です

endorファイルが通常のgitの仕組みだとpushできない
→.gitignoreファイルのenderの部分を消すかコメントアウトでpushできるようになると考えていますが、
まだ完全に理解できていなく、作業途中です

メールを送った人にも確認用にメールが飛ぶ
→送った人に確認用のメールが届くように設定しました

# 2024/3/5
＜ご指摘いただいた点の修正＞
送信元メール情報のオブジェクト化をしておいてください
・メール送信機能に関する情報をMailSenderInfoクラスにオブジェクト化しました
・コード管理をしやすくするため、config.phpを新たに作成して、そこにクラスの定義をしました

リセットCSSが効いていないです。検証ツールも見ながら確認してください
・リセットCSSのファイル名と、接続する際のファイル名が異なっていたため反映されていませんでした。
・リセットCSSのファイル名を変更しました。（riset.css → reset.css）
・検証ツールでrecset.cssが接続されていることを確認できました。

フォントの形態などが違うところがあるので、注意深くデザインを見て修正をしてください
・主にフォントの太さを変更しました。

その他変更点
・リセットCSSの反映に伴うデザインの崩れがあったので修正しました


＜修正できていない点＞
ページバックでページが再度送れてしまうこと
vendorファイルをpushできえうようにすること

# 2024\3\6

＜ご指摘いただいた点の修正＞  
メール送信後、TOPへ戻る仕組みを作っておいてください  
・完了ページにTOPへ戻るボタンを作成しました  

メールの確認と完了のページの作りも仕上げてください  
・確認ページと完了ページのデザインを修正しました  

ヘッダーの部分がいつでもきちんと機能するように動作確認をしてください  
・indexページ以外からでもサービス一覧と、入力フォームの位置にに飛べるように修正しました  

config.phpも何のconfigなのかわかるようにして  
・ファイル名を変更しました(config.php → mail_config.php)  

まだオブジェクトをして利用できていない部分は利用できるようにしてください  
・入力情報もオブジェクト化しました



＜まだ対処できていない点＞
push時にvenderファイル内のphpディレクトリの中身が空になってしまうこと  

# 2024/3/6 19:50

step3のワークの機能を追加しました。

DB、システム関連の作業はすべて行いました。   
これからCSSなどでのデザインを修正していきます。